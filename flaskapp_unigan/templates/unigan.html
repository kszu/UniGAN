<html> 
<div id="container">
  <head>
    <title>UniGAN</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="http://unigan.io/static/img/favicon.ico" type="image/x-icon"/>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/style.css') }}">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
      .shoe {
      position: relative;
      }
      
      .shoe.selected {
      background-color: red;
      }

      .shoe img {
      width: 96px;
      }

      .shoe a {
      display: none;
      position: absolute;
      top: 5px;
      right: 5px;
      }

      .shoe:hover a {
      display: block;
      }
      
      #forms {
      min-height: 400px;
      padding: 15px 0;
      }
    </style>
  </head>

  <div class="topnav">
    <a href="/">Home</a>
    <a href="/what_is_unigan">What is UniGAN?</a>        
    <a href="/how_it_works">How it works</a>
    <a href="/team">Team</a>
    <a class="active" href="/unigan">Try it!</a>
  </div> 

  <body>
    <div id="body">
      <div id="actions">
	<span class="py-2 px-4 bg-green-400" data-target="select">Sample Images</span>
	<span class="py-2 px-4 bg-gray-400" data-target="upload">File Upload</span>
      </div>
      <div id="forms">
        <form id="upload" action="/unigan" method="POST" enctype="multipart/form-data" class="hidden w-full md:w-1/3">
        <input type="file" name="image" value="Upload">
  	<label class="flex mt-2">
	  <div class="w-1/3 text-right p-2">
  	    Select model:
	  </div>
          <div class="inline-block relative flex-grow">
            <select name="method" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
              <option value="gender" {% if 'gender' in model_type %} selected {% endif %}>Gender</option>
	      <optgroup label="Slide">
                <option value="slide-Women" {% if 'slide-Women' in model_type %} selected {% endif %}>Slide-Women</option>
		<option value="slide-Men" {% if 'slide-Men' in model_type %} selected {% endif %}>Slide-Men</option>
		<option value="slide-Ankles" {% if 'slide-Ankles' in model_type %} selected {% endif %}>Slide-Ankles</option>
		<option value="slide-Athletics" {% if 'slide-Athletics' in model_type %} selected {% endif %}>Slide-Athletics</option>
		<option value="slide-Boots" {% if 'slide-Boots' in model_type %} selected {% endif %}>Slide-Boots</option>
		<option value="slide-Flats" {% if 'slide-Flats' in model_type %} selected {% endif %}>Slide-Flats</option>
		<option value="slide-Heels" {% if 'slide-Heels' in model_type %} selected {% endif %}>Slide-Heels</option>
	      </optgroup>
              <option value="category" {% if 'category' in model_type %} selected {% endif %}>Category</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
              <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
            </div>
          </div>
  	</label>
  	<label class="flex mt-2">
	  <div class="w-1/3 text-right p-2">
            Select gender:
	  </div>
          <div class="inline-block relative flex-grow">
            <select name="gender" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
              <option value="female">Female</option>
              <option value="male">Male</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
              <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
            </div>
          </div>
  	</label>
  	<label class="flex mt-2">
	  <div class="w-1/3 text-right p-2">
            Select shoe type:
	  </div>
          <div class="inline-block relative flex-grow">
            <select name="shoe_type" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
              <option value="ankle">Ankle</option>
              <option value="athletic">Athletic</option>
              <option value="boot">Boot</option>
              <option value="flat">Flat</option>
              <option value="heel">Heel</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
              <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
            </div>
          </div>
  	</label>
        <input class="mt-2" type="submit" value="Transform image">
        </form>
  
        <form id="select" method="GET" action="/unigan">
  	<label class="block">
  	  Select model:
            <div class="inline-block relative w-48 ml-2">
              <select name="method" class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
                 <option value="gender" {% if 'gender' in model_type %} selected {% endif %}>Gender</option>
	         <optgroup label="Slide">
                   <option value="slide-Women" {% if 'slide-Women' in model_type %} selected {% endif %}>Slide-Women</option>
                   <option value="slide-Men" {% if 'slide-Men' in model_type %} selected {% endif %}>Slide-Men</option>
		   <option value="slide-Ankles" {% if 'slide-Ankles' in model_type %} selected {% endif %}>Slide-Ankles</option>
		   <option value="slide-Athletics" {% if 'slide-Athletics' in model_type %} selected {% endif %}>Slide-Athletics</option>
		   <option value="slide-Boots" {% if 'slide-Boots' in model_type %} selected {% endif %}>Slide-Boots</option>
		   <option value="slide-Flats" {% if 'slide-Flats' in model_type %} selected {% endif %}>Slide-Flats</option>
                   <option value="slide-Heels" {% if 'slide-Heels' in model_type %} selected {% endif %}>Slide-Heels</option>
	         </optgroup>
                 <option value="category" {% if 'category' in model_type %} selected {% endif %}>Category</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
              </div>
            </div>
  	</label>
  	
          <p>
            Select Image:
  	</p>
  	<input type="hidden" name="image_url" id="shoe_value" value="{{ last_image }}"/>
          <ul>
            {% for image in images %}
            <li class="shoe bg-blue-300 p-2 inline-block {% if image == last_image %} selected {% endif %}>" data-value="{{ image }}">
              <img class="mt-2" src="http://unigan.io/static/input_images/{{ image }}" />
            </li>
            {% endfor %}
  	  </ul>
	  {% if my_images %}
	  <ul>My Images</ul>
	  {% endif %}
          <ul>
            {% for image in my_images %}
            <li class="shoe bg-blue-300 p-2 inline-block {% if image == last_image %} selected {% endif %}>" data-value="{{ image }}">
              <img class="mt-2" src="https://w210-capstone-project.s3.us-east-2.amazonaws.com/{{ image }}" />
	      <a class="text-white p-1 bg-red-500 border rounded hover:bg-red-800" href="/delete_image?image={{ image }}">
		<i class="fa fa-trash" aria-hidden="true"></i>
	      </a>
            </li>
            {% endfor %}
  	  </ul>
  	<p></p>
        <input class="mt-2" type="submit" value="Transform Image">
        </form>
      </div>

      <div class="mt-3 pt-3 border-t-4 border-blue-300">
        <img src= "{{ output }}?num={{ rand_num }}">
        <table style="width:{{ img_width }}; table-layout:fixed">
          <tr>
            {% for label in labels %}
            <td style="text-align:center;">{{ label }}</td>
            {% endfor %}
          </tr>
      </table>
      </div>
    </div>
    <script src="{{ url_for('static', filename='js/unigan.js') }}"></script>
  </body>

</html>
